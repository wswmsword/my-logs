# æ­£åˆ™å­¦ä¹ 

{{TOC}}

æ­£åˆ™å¾ˆå¸¸ç”¨ï¼Œæˆ–è€…è¯´æ€»æ˜¯ä¼šç”¨åˆ°ï¼Œå®ƒå°±åƒèººåœ¨å·¥å…·ç®±è§’è½è¾¹çš„å·¥å…·ï¼Œè¶Šæ˜¯ç”Ÿç–è¶Šè¦æ“ç»ƒã€‚æœ‰äººè°ƒä¾ƒæ­£åˆ™ï¼Œâ€œåœ¨ä½ æ„è¯†åˆ°è¿™ä¸ªé—®é¢˜éœ€è¦æ­£åˆ™ï¼Œç°åœ¨ä½ æœ‰ä¸¤ä¸ªé—®é¢˜äº†â€ã€‚ä¸‹é¢æ˜¯æˆ‘åœ¨å­¦ä¹ æ­£åˆ™æ—¶çš„è®°å½•ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šè¯´æ˜ï¼Œç¯å¢ƒæ˜¯ macOS 13.0.1ï¼Œè¯­è¨€ä½¿ç”¨ javascriptï¼Œæµè§ˆå™¨ä½¿ç”¨ Chrome 107.0.5304.110ã€‚

## æ•è·ç»„

å…³äºæ‹¬å·ã€æ‹¬å·åŠ é‡è¯å¯¹ match è¿”å›ç»“æœçš„å½±å“ï¼Œç»“æœä¸­å¯èƒ½åŒ¹é…åˆ°ç©ºå­—ç¬¦ä¸²`""`æˆ–æ˜¯`undefined`ï¼š

```javascript
'a'.match(/a(z?)(c?)/);
// ['a', '', '', index: 0, input: 'a', groups: undefined]

'a'.match(/a(z)?(c)?/);
// ['a', undefined, undefined, index: 0, input: 'a', groups: undefined]

'a'.match(/a(z)*(c)?/);
// ['a', undefined, undefined, index: 0, input: 'a', groups: undefined]

'a'.match(/a()()/);
// ['a', '', '', index: 0, input: 'a', groups: undefined]
```

å…³äºåå‘å¼•ç”¨`\N` å’Œ `\k<name>`ï¼š
- å¯¹ä¹‹å‰çš„æ•è·ç»„è¿›è¡Œåå‘å¼•ç”¨
- ä¾‹å¦‚`"He said: \"She's the one!\".".match(/(['"])(.*?)\1/g)`æ˜¯æ­£ç¡®çš„ï¼Œå¾—åˆ°ç»“æœ`["\"She's the one!\""]`ï¼›
- ä¾‹å¦‚`"He said: \"She's the one!\".".match(/(['"])(.*?)['"]/g)`æ˜¯é”™è¯¯çš„ï¼Œå¾—åˆ°ç»“æœ`["\"She'"]`ï¼›
- `\k<name>`ä¸­çš„ k å–è‡ª`backReference`ï¼ˆåå‘å¼•ç”¨ï¼‰ä¸­çš„ kã€‚

ç›¸å…³é“¾æ¥ï¼š
- [æ•è·ç»„](https://zh.javascript.info/regexp-groups)â€”â€”JAVASCRIPT.INFO æ•™ç¨‹ï¼›
- [æ¨¡å¼ä¸­çš„åå‘å¼•ç”¨ï¼š\N å’Œ \k\<name\>](https://zh.javascript.info/regexp-backreferences)â€”â€”JAVASCRIPT.INFO æ•™ç¨‹ã€‚

## è´ªå©ªæ¨¡å¼å’Œæƒ°æ€§æ¨¡å¼

ç›¸å…³é“¾æ¥ï¼š
- [è´ªå©ªé‡è¯å’Œæƒ°æ€§é‡è¯](https://zh.javascript.info/regexp-greedy-and-lazy)ã€‚

## String.prototype.replace

ç¬¬äºŒä¸ªå‚æ•°æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œå¯ä»¥åˆ©ç”¨ä¸€äº›æ¨¡ç‰ˆå˜é‡æ¥æ›¿æ¢ã€‚

| å˜é‡å | è§£é‡Š |
|:--|:--|
| $$ | 	æ’å…¥ä¸€ä¸ª "$"ã€‚ |
| $& | æ’å…¥åŒ¹é…çš„å­ä¸²ã€‚ |
| $` | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å·¦è¾¹çš„å†…å®¹ã€‚ |
| $' | æ’å…¥å½“å‰åŒ¹é…çš„å­ä¸²å³è¾¹çš„å†…å®¹ã€‚ |
| $n | æ’å…¥ç¬¬ n ä¸ªåˆ†ç»„ã€‚ |
| $\<Name\> | æ’å…¥æœ‰åç§°çš„åˆ†ç»„ã€‚ |

äº¤æ¢åˆ†ç»„çš„å•è¯ï¼Œè¿™é‡Œç”¨åˆ°äº†ä¿®é¥°ç¬¦`g`ï¼Œä»£è¡¨ä¼šäº¤æ¢æ‰€æœ‰çš„åŒ¹é…ï¼š

```javascript
var re = /(\w+)\s(\w+)/g;
var str = "John Smith David Martinez";
str.replace(re, "$2, $1"); // äº¤æ¢åŒ¹é…åˆ°çš„ John Smithï¼Œå†äº¤æ¢åŒ¹é…åˆ°çš„ David Martinez
// 'Smith, John Martinez, David'
```

ç›¸å…³é“¾æ¥ï¼š
- [MDN-String.prototype.replace()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/replace)

## è¯è¾¹ç•Œå’Œé”šç‚¹

å…³äºè¯è¾¹ç•Œ`\b`ï¼š
- è¯è¾¹ç•ŒæŒ‡çš„æ˜¯`\w`æ—è¾¹ä¸æ˜¯`\w`çš„ä½ç½®ï¼Œä¹Ÿå°±æ˜¯è¯´`\b`æ‰¾çš„æ˜¯å­—æ¯ï¼ˆæˆ–æ•°å­—ä¸‹åˆ’çº¿ï¼‰çš„æ—è¾¹ä¸æ˜¯å­—æ¯ï¼ˆæˆ–æ•°å­—ä¸‹åˆ’çº¿ï¼‰çš„ä½ç½®ï¼›
- æ¢ä¸€ç§è¯´æ³•ï¼Œè¯è¾¹ç•ŒæŒ‡çš„æ˜¯`\w`å’Œ`\W`ä¹‹é—´çš„ä½ç½®ï¼Œ`\w`å’Œ`$`ï¼ˆæœ«å°¾ä½ç½®ï¼‰ä¹‹é—´çš„ä½ç½®ï¼Œ`\w`å’Œ`^`ï¼ˆå¼€å¤´ä½ç½®ï¼‰ä¹‹é—´çš„ä½ç½®ã€‚

ä¸‹é¢æ˜¯è¯è¾¹ç•Œçš„ä¾‹å­ï¼Œå¯ä»¥è§‚å¯Ÿè¯è¾¹ç•Œè¢«æ›¿æ¢æˆâ€œğŸ¤”â€çš„ä½ç½®ï¼š

```javascript
"So what do you wanna do, what's your point-of-view.".replace(/\b/g, () => "ğŸ¤”");
// "ğŸ¤”SoğŸ¤” ğŸ¤”whatğŸ¤” ğŸ¤”doğŸ¤” ğŸ¤”youğŸ¤” ğŸ¤”wannağŸ¤” ğŸ¤”doğŸ¤”, ğŸ¤”whatğŸ¤”'ğŸ¤”sğŸ¤” ğŸ¤”yourğŸ¤” ğŸ¤”pointğŸ¤”-ğŸ¤”ofğŸ¤”-ğŸ¤”viewğŸ¤”."
// â€œğŸ¤”â€å‡ºç°åœ¨å¼€å¤´ã€å­—æ¯å’Œç©ºæ ¼ä¹‹é—´ã€å­—æ¯å’Œé€—å·ä¹‹é—´ï¼Œä»¥åŠæœ€åå­—å¹•å’Œå¥ç‚¹ä¹‹é—´
"Ohï¼Œä½ å¥½Lucyï¼Œæˆ‘æ˜¯Davidã€‚".replace(/\b/g, () => "ğŸ¤”");
// 'ğŸ¤”OhğŸ¤”ï¼Œä½ å¥½ğŸ¤”LucyğŸ¤”ï¼Œæˆ‘æ˜¯ğŸ¤”DavidğŸ¤”ã€‚'
''.replace(/\b/g, 'ğŸ¤”');
// ''
// ç©ºå­—ç¬¦ä¸²æ²¡æœ‰è¯è¾¹ç•Œï¼Œå› ä¸ºæ²¡æœ‰å­—æ¯æ•°å­—ä¸‹åˆ’çº¿
'çˆ±'.replace(/\b/g, 'ğŸ¤”');
// 'çˆ±'
// ä¸­æ–‡æ²¡æœ‰è¯è¾¹ç•Œ
```

é”šç‚¹`^`ï¼šç´§è·Ÿæ¯ä¸€ä¸ªè¡Œç»ˆæ­¢ç¬¦åçš„ä½ç½®ï¼Œå­—ç¬¦ä¸²çš„å¼€å¤´ã€‚

é”šç‚¹`$`ï¼šç´§é æ¯ä¸€ä¸ªè¡Œç»ˆæ­¢ç¬¦å‰çš„ä½ç½®ï¼Œå­—ç¬¦ä¸²çš„æœ«å°¾ã€‚

å…³äºé”šç‚¹çš„åŒ¹é…ï¼š

```javascript
var withSpace = "     begin\n between\t\n\n\n\nend   ";
var reg = /(^\s+|\s+$)/mg;
var reg2 = /^\s+/mg;
var reg3 = /\s+$/mg;
withSpace.replace(reg2, "") // 'begin\nbetween\t\nend   ';
withSpace.replace(reg3, "") // '     begin\n between\nend';
```

è§‚å¯Ÿé”šç‚¹çš„ä½ç½®ï¼š

```javascript
var str = '666\n\n\t\n\n';
str.replace(/^/mg, 'ğŸ˜Š'); // 'ğŸ˜Š666\nğŸ˜Š\nğŸ˜Š\t\nğŸ˜Š\nğŸ˜Š'
str.replace(/$/mg, 'ğŸ˜Š'); // '666ğŸ˜Š\nğŸ˜Š\n\tğŸ˜Š\nğŸ˜Š\nğŸ˜Š'
```

å¯ä»¥çœ‹åˆ°`^`è¢«æ›¿æ¢çš„ä½ç½®ï¼Œæ˜¯ç´§è·Ÿæ¯ä¸€ä¸ªè¡Œç»ˆæ­¢ç¬¦åçš„ä½ç½®ï¼Œæˆ–åœ¨å­—ç¬¦ä¸²çš„å¼€å¤´ã€‚`$`è¢«æ›¿æ¢çš„ä½ç½®ï¼Œæ˜¯ç´§é æ¯ä¸€ä¸ªè¡Œç»ˆæ­¢ç¬¦å‰çš„ä½ç½®ï¼Œæˆ–åœ¨å­—ç¬¦ä¸²çš„æœ«å°¾ã€‚

æç¤ºï¼šé”šç‚¹æ”¾åœ¨`[]`æ–¹æ‹¬å·ï¼ˆcharacter classï¼‰ä¸­æ˜¯æ— æ•ˆçš„ï¼š

```javascript
/[$^]/.test(''); // false
/[$]/.test(''); // false
/^$/.test(''); // true
```

## ç¯è§†

åœ¨ç¯è§†ä¸­åŒ¹é…å­—ç¬¦ï¼š

```javascript
'1234567'.match(/\d(?=\d(?!\d))/g); // ['6']
'1234567'.match(/\d(?=\d(?!\d\d))/g) // (2)Â ['5', '6']
'1234567'.match(/\d(?=\d(?!\d\d\d))/g) // (3)Â ['5', '6', '7']
```

ä¸Šé¢çš„ä»£ç ç¬¬ä¸€è¡Œçš„ç¯è§†éƒ¨åˆ†è¡¨ç¤ºï¼Œè¦åŒ¹é…çš„ä½ç½®åé¢å¿…é¡»æ˜¯ä¸€ä¸ªæ•°å­—å­—ç¬¦ï¼Œè¿™ä¸ªæ•°å­—å­—ç¬¦åé¢ä¸èƒ½ç´§è·Ÿä¸€ä¸ªæ•°å­—å­—ç¬¦ã€‚è¿™ä¸ªä¾‹å­çš„ç¯è§†é‡ŒåˆåŒ…äº†ä¸€å±‚ç¯è§†ï¼Œä½†å†…éƒ¨çš„ç¯è§†æ˜¯ä½œç”¨åœ¨å¤–éƒ¨ç¯è§†åŒ¹é…è¿‡çš„å­—ç¬¦ä¹‹åçš„ã€‚

ä¸ºä»€ä¹ˆè¦åŒºåˆ†å‰ç»æ–­è¨€å’Œåç»æ–­è¨€ï¼š

```javascript
var reg = /<(?!\/)[^>]+(?<!\/)>/;
reg.test("<a>"); // true
reg.test("<a/>"); // false
```

ä¸Šé¢çš„ä»£ç å—é‡Œï¼Œå¯ä»¥çœ‹åˆ°ç¬¬äºŒä¸ªæ–­è¨€æ˜¯åç»æ–­è¨€ï¼Œå¦‚æœæ›¿æ¢æˆå‰ç»æ–­è¨€ï¼Œä¼šå¯¼è‡´æˆåŠŸåŒ¹é…`<a/>`ï¼Œè¿™æ˜¯å› ä¸º`[^>]+`ä¼šåŒ¹é…åˆ°`/`ï¼Œæ¥ä¸‹æ¥çš„`(?<!\/)`æ£€æµ‹å½“å‰ä½ç½®çš„åé¢ä¸èƒ½æ˜¯`/`ï¼Œè€Œå½“å‰ä½ç½®çš„åé¢æ˜¯`>`ï¼Œæ‰€ä»¥åŒ¹é…æˆåŠŸï¼Œæ‰€ä»¥è¿™é‡Œè¦æ³¨æ„ç¯è§†æ˜¯å’Œä¸¤è¾¹çš„å­—ç¬¦ç›¸å…³çš„ï¼Œä¸‹é¢æ˜¯éƒ½ä½¿ç”¨å‰ç»æ–­è¨€çš„ä»£ç å—ï¼š

```javascript
var reg = /<(?!\/)[^>]+(?!\/)>/;
reg.test("<a/>"); // true
```

æœ‰çš„è¯­è¨€ä¸­ï¼ˆé javascriptï¼‰ï¼Œç¯è§†ä¼šå¯¼è‡´å›æº¯å¤±è´¥ï¼Œæœ‰æ—¶å€™ä¼šå¼•èµ·é—®é¢˜ï¼Œä¾‹å¦‚`/(?<=(\d+))\w\1/`å¯èƒ½ä¸èƒ½åŒ¹é…`123ab12`ã€‚javascript å¯ä»¥ä½¿ç”¨éå›ºå®šå®½åº¦çš„ç¯è§†ï¼Œruby ä¼šæŠ¥é”™â€œ`invalid pattern in look-behind: /(?<=(\d+))\w\1/`â€ï¼Œpython åŒæ ·æŠ¥é”™â€œ`re.error: look-behind requires fixed-width pattern`â€ã€‚

åˆ©ç”¨ç¯è§†ï¼Œå¯ä»¥å®ç°å…¶å®ƒè¯­è¨€ä¸­æ­£åˆ™å­—ç¬¦ç»„çš„è¿ç®—ï¼Œä¸‹é¢çš„ä¾‹å­è¡¨ç¤ºä»å­—æ¯ä¸­å‡å»å…ƒéŸ³å­—æ¯ï¼š

```javascript
var reg = /(?![aeiou])[a-z]/;
```

## RegExp.lastIndex

> lastIndex æ˜¯æ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªå¯è¯»å¯å†™çš„æ•´å‹å±æ€§ï¼Œç”¨æ¥æŒ‡å®šä¸‹ä¸€æ¬¡åŒ¹é…çš„èµ·å§‹ç´¢å¼•ã€‚ â€”â€” MDN

`regexp.test`æˆ–`regexp.exec`æ¯æ‰§è¡Œä¸€æ¬¡ï¼Œéƒ½ä¼šé‡æ–°èµ‹å€¼ lastIndexï¼Œè¿™ä¼šå¯¼è‡´æ¯æ¬¡æ‰§è¡Œ`test`æˆ–`exec`è¿›è¡Œæ ¡éªŒçš„æ—¶å€™ï¼Œå¾—åˆ°çš„ç»“æœä¸ä¸€è‡´ã€‚å¦å¤–è¿˜æœ‰ä¸€ä¸ªæ¡ä»¶æ˜¯ï¼Œæ­£åˆ™è¡¨è¾¾å¼éœ€è¦åŒ…å«`y`æˆ–è€…`g`ä¿®é¥°ç¬¦ã€‚

ç›¸å…³é“¾æ¥ï¼š
- [ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“è¢«å¿½ç•¥çš„æ­£åˆ™é—®é¢˜](https://www.lcs.show/blog/common/an-overlooked-regular-knowledge)ï¼›
- [MDN-RegExp.lastIndex](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/RegExp/lastIndex)â€”â€” MDN çš„ RegExp.lastIndex æ–‡æ¡£ã€‚

## ä¿®é¥°ç¬¦

ä¸‹é¢æ˜¯ç²˜æ€§ä¿®é¥°ç¬¦`y`çš„ä¾‹å­ï¼š

```javascript
var str = "So, get away.";
var reg = /\w+/y;
reg.lastIndex; // 0
reg.exec(str); // ['So', index: 0, input: 'So, get away.', groups: undefined]
reg.lastIndex; // 2
reg.exec(str); // null
reg.lastIndex; // 0
```

å¸¦`y`çš„æ­£åˆ™ï¼Œåœ¨å½¢å¼ä¸Šå¾ˆåƒæ¯æ‰§è¡Œä¸€æ¬¡å°±æŠŠå·²ç»åŒ¹é…çš„éƒ¨åˆ†æˆªå»ï¼Œå¹¶ä¸”ç»™æ­£åˆ™æ·»åŠ é”šç‚¹`^`ã€‚ä½“ç°å‡ºçš„æ•ˆæœå°±åƒæ˜¯è¢« lastIndex ç²˜ä½äº†ã€‚

ä¿®é¥°ç¬¦`s`ï¼šä¿®é¥°ç¬¦`s`è®©å­—ç¬¦ç±»`.`å¯ä»¥åŒ¹é…åŒ…æ‹¬æ¢è¡Œ`\n`çš„æ‰€æœ‰å­—ç¬¦ï¼Œå¦åˆ™`.`åªèƒ½è¡¨ç¤ºé™¤æ¢è¡Œå¤–çš„æ‰€æœ‰å­—ç¬¦ã€‚

å…³äºä¿®é¥°ç¬¦`u`ï¼šæ·»åŠ äº†ä¿®é¥°ç¬¦`u`ä¹‹åï¼Œæ­£åˆ™å¯ä»¥æ­£ç¡®å¤„ç† 4 å­—èŠ‚é•¿åº¦çš„å­—ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨`\p{...}`è¡¨ç¤º unicode å±æ€§ã€‚

```javascript
'ğŸ˜„'.match(/./); // ä¸ç”¨ä¿®é¥°ç¬¦ uï¼Œå¯ä»¥çœ‹åˆ°è·å–åˆ°çš„æ˜¯ 4 å­—èŠ‚å­—ç¬¦ä»£ç†å¯¹çš„å·¦åŠéƒ¨åˆ†â€œ\uD83Dâ€ï¼Œè€Œä¸æ˜¯æœŸæœ›çš„â€œğŸ˜„â€
// ['\uD83D', index: 0, input: 'ğŸ˜„', groups: undefined]
'ğŸ˜„'.match(/./u); // ä½¿ç”¨ä¿®é¥°ç¬¦ uï¼Œå¯ä»¥çœ‹åˆ°è·å–åˆ°äº†æœŸæœ›çš„â€œğŸ˜„â€
// ['ğŸ˜„', index: 0, input: 'ğŸ˜„', groups
```

å…³äºä¿®é¥°ç¬¦`m`ï¼šåœ¨å¤šè¡Œæ¨¡å¼`m`çš„æ­£åˆ™é‡Œï¼Œ`\n`å’Œ`$`æ˜¯æœ‰åŒºåˆ«çš„ï¼Œ`\n`ä¼šåŒ¹é…é™¤æœ€åä¸€è¡Œä¹‹å¤–çš„æ¯è¡Œæœ«å°¾çš„å­—ç¬¦`\n`ï¼Œè€Œ`$`è¡¨ç¤ºæ¯ä¸€è¡Œæœ«å°¾çš„ä½ç½®ï¼ŒåŒ…æ‹¬æœ€åä¸€è¡Œï¼Œä¸”`$`åŒ¹é…çš„æ˜¯æ— å®½åº¦çš„ä½ç½®ï¼Œè€Œä¸æ˜¯å­—ç¬¦ã€‚

```javascript
var str = `- Naruto
- Sasuke
- Sakura`;
str.match(/\n/g); // åŒ¹é…ç¬¬ä¸€ã€ç¬¬äºŒè¡Œçš„æœ«å°¾æ¢è¡Œç¬¦
// ['\n', '\n']
str.match(/$/gm); // åŒ¹é…æ¯ä¸€è¡Œçš„æœ«å°¾ä½ç½®
// ['', '', '']
```

ç›¸å…³é“¾æ¥ï¼š
- [ç²˜æ€§ä¿®é¥°ç¬¦ "y"ï¼Œåœ¨ä½ç½®å¤„æœç´¢](https://zh.javascript.info/regexp-sticky)ï¼›
- [Unicode å±æ€§ \p{â€¦}](https://zh.javascript.info/regexp-unicode)â€”â€” Unicode å±æ€§å’Œå®ƒçš„å­ç±»åˆ«ã€‚

## å­—ç¬¦ç±»

| å­—ç¬¦ç±» | æ¥æº | è§£é‡Š |
|:--|:--|:--|
| `\d` | digit |  |
| `\w` | word | å­—æ¯ã€æ•°å­—ã€**ä¸‹åˆ’çº¿** |
| `\s` | space | ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦`\t`ã€æ¢è¡Œ`\n` |
| `.` | | ç‚¹è¡¨ç¤ºé™¤æ¢è¡Œ`\n`ä¹‹å¤–çš„ä»»æ„å­—ç¬¦ |
| åå‘ç±» |  | å°å†™çš„å­—ç¬¦ç±»çš„å¤§å†™å½¢å¼ï¼Œè¡¨ç¤ºå’Œå¯¹åº”çš„å­—ç¬¦ç±»äº’è¡¥çš„å­—ç¬¦ |

ç±»ä¼¼`[\d\D]`ï¼ŒåŒ…æ‹¬å¤§å°å†™çš„å­—ç¬¦ç±»å¯ä»¥è¡¨ç¤ºæ‰€æœ‰å­—ç¬¦ï¼Œ`[^]`ä¹Ÿå¯ä»¥è¡¨ç¤ºæ‰€æœ‰å­—ç¬¦ï¼Œæ„æ€æ˜¯â€œåŒ¹é…é™¤äº†ä»€ä¹ˆéƒ½æ²¡æœ‰ä¹‹å¤–å…¶ä»–æƒ…å†µçš„å­—ç¬¦â€ã€‚

## ç¼–ç ã€å­—ç¬¦ä¸²

æ­£åˆ™è¡¨è¾¾å¼åœ¨ ES6 å‰ä¸èƒ½å¤„ç† UTF-16 å­—ç¬¦ç ç‚¹å¤§äº 65536 çš„éƒ¨åˆ†ï¼Œä¾‹å¦‚`/\uD83D/.test('ğŸ’©')`ä¼šé”™è¯¯åœ°å¾—åˆ°`true`ï¼Œè¿™æ˜¯å› ä¸ºâ€œ`ğŸ’©`â€å­—ç¬¦è¢«ç¿»è¯‘æˆ UTF-16 çš„ä»£ç†å¯¹æ˜¯â€œ`\uD83D\uDCA9`â€ï¼Œå¯ä»¥å‘ç°`/\uD83D/.test('\uD83D\uDCA9')`å°±åŒ¹é…äº†ï¼Œä½†â€œ`ğŸ’©`â€åœ¨æˆ‘ä»¬çš„è§†è§’ä¸­åº”è¯¥æ˜¯ 1 ä¸ªå­—ç¬¦æ‰å¯¹ï¼Œè€Œè¯­è¨€å†…éƒ¨ä¸æ˜¯è¿™æ ·ç†è§£å­—ç¬¦çš„ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å‘Šè¯‰è¯­è¨€å¦‚ä½•å¤„ç†è¿™æ ·çš„å­—ç¬¦ï¼Œå‘Šè¯‰å®ƒå³å°†è¦å¤„ç†çš„å­—ç¬¦ä¸²æ˜¯ä¸€æ®µ UTF-16 ç¼–ç æ–¹å¼çš„å­—ç¬¦ä¸²ï¼Œè¿™å°±æ˜¯ä¿®é¥°ç¬¦`u`çš„ä½œç”¨ã€‚

åŠ ä¸Š`u`åï¼Œ`/\uD83D/u.test('ğŸ’©')`ä¼šæ­£ç¡®åœ°å¾—åˆ°`false`ï¼Œå› ä¸ºç¨‹åºå¯ä»¥ç†è§£`ğŸ’©`æ˜¯å•ä¸ªå­—ç¬¦ï¼Œè€Œä¸æ˜¯åˆ†å¼€çš„ä¸¤ä¸ªå­—ç¬¦`\uD83D`å’Œ`\uDCA9`ã€‚

å†çœ‹ä¸€ä¸ªä¾‹å­ï¼Œâ€œ`ğŸš©`â€çš„ä»£ç†å¯¹æ˜¯â€œ`\uD83D`â€å’Œâ€œ`\uDEA9`â€ï¼Œâ€œğŸ’©â€çš„ä»£ç†å¯¹æ˜¯â€œ`\uD83D`â€å’Œâ€œ`\uDCA9`â€ï¼š

```javascript
/[ğŸš©]/.test('ğŸ’©'); // true
/[ğŸš©]/u.test('ğŸ’©'); // false
/[ğŸš©]/.test('\uD83D'); // true
/[ğŸš©]/u.test('\uD83D'); // false
```

ä¿®é¥°ç¬¦`u`è®© js èƒ½æ­£ç¡®ç†è§£ UTF-16ï¼Œå› ä¸ºç†è§£äº†ç¼–ç ï¼Œå°±å¯¼è‡´äº†æ­£åˆ™çš„å…¶å®ƒåŠŸèƒ½ä¹Ÿå˜å¾—æœ‰é¢„æœŸäº†ï¼Œä¾‹å¦‚`.`å’Œé‡è¯`{n}`éƒ½èƒ½æ­£å¸¸å·¥ä½œäº†ï¼Œå¯ä»¥ä½¿ç”¨ unicode å±æ€§äº†ï¼š

```
/^.$/.test('ğŸ’©'); // false
/^.$/u.test('ğŸ’©'); // true
/ğŸ’©{2}/.test('ğŸ’©ğŸ’©'); // false
/ğŸ’©{2}/u.test('ğŸ’©ğŸ’©'); // true
/\p{sc=Han}/u.test('å¥½'); // true
```

ä¸ºä»€ä¹ˆ`'ğŸ’©'.length === 2`ï¼š
- js å¯¹äºç¼–ç çš„å¤„ç†æ›¾ç»æ˜¯ UCS-2ï¼Œå› ä¸ºåœ¨ js è¢«åˆ›é€ çš„æ—¶å€™ï¼Œç¼–ç æ–¹å¼åªæœ‰ UCS-2ï¼Œä½œä¸º UCS-2 çš„è¶…é›† UTF-16 å°šæœªè¯ç”Ÿï¼ŒES6 ä¹‹åä½¿ç”¨ UTF-16ï¼›
- ES6 å¯¹äºé BMPï¼ˆç ç‚¹å¤§äº 65536 çš„å­—ç¬¦ï¼‰ä¸­çš„å­—ç¬¦ä½¿ç”¨ä»£ç†å¯¹çš„æ–¹å¼è¡¨ç¤ºï¼ŒBMP ä¸­çš„å­—ç¬¦åªè¦ä¸¤å­—èŠ‚ï¼ˆ16 æ¯”ç‰¹ï¼‰è¡¨ç¤ºï¼Œé BMP çš„å­—ç¬¦éœ€è¦å››å­—èŠ‚ï¼ˆ32 æ¯”ç‰¹ï¼‰è¡¨ç¤ºï¼ŒBMP ä¸­ä¿ç•™äº†ä¸¤ä¸ªéƒ¨åˆ†ç”¨äºè¡¨ç¤ºæ‰€æœ‰çš„é BMP å­—ç¬¦ï¼ŒUCS-2 å›ºå®šé•¿ï¼Œè€Œ UTF-16 å…‹å˜é•¿ï¼›
- â€œ`ğŸ’©`â€å°±æ˜¯é BMP ä¸­çš„å­—ç¬¦ï¼Œå®ƒçš„ç ç‚¹æ˜¯ 128169ï¼Œå·²ç»è¶…å‡ºäº† BMP çš„èŒƒå›´ï¼Œjs ä¼šä½¿ç”¨ä»£ç†å¯¹è¡¨ç¤ºï¼Œå®ƒçš„ä»£ç†å¯¹æ˜¯â€œ`\uD83D\uDCA9`â€ï¼Œè¿™å¯ä»¥é€šè¿‡ 128169 è®¡ç®—ï¼Œä¹Ÿå¯ä»¥é€šè¿‡`'ğŸ’©'.split('')`å¾—åˆ°ï¼›
- åŸºäºå‰é¢çš„äº‹å®ï¼Œæ¨æµ‹ js çš„å•å…ƒé•¿åº¦ï¼ˆ1ï¼‰æ˜¯å›ºå®šçš„ 2 å­—èŠ‚ï¼Œå³ UCS-2 å•ä¸ªå­—ç¬¦çš„å¤§å°ï¼Œç”±äº UTF-16 ä½¿ç”¨ 4 å­—èŠ‚ï¼ˆä»£ç†å¯¹ï¼‰æ¥è¡¨ç¤ºèŒƒå›´æ›´å¤§çš„å­—ç¬¦ï¼Œæ‰€ä»¥é•¿åº¦è¢«è®¡ç®—ä¸º 2ã€‚

JavaScript ä¸­ä¸€å®šç¨‹åº¦ä¸Šæ­£ç¡®è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•ï¼š

```javascript
var string = "ğŸ˜„ğŸ˜‚ğŸ˜£ğŸ˜­ğŸ¥µğŸ˜˜";
Array.from(string).length;
[...string].length;
```

ä»ç„¶æœ‰å¾ˆå¤š emoji ä¸èƒ½é€šè¿‡ä»¥ä¸Šçš„æ–¹å¼æ­£ç¡®è·å–é•¿åº¦ï¼Œä¾‹å¦‚â€œğŸ‘¶ğŸ»ğŸ‘¦ğŸ»ğŸ‘§ğŸ»ğŸ‘¨ğŸ»ğŸ‘©ğŸ»ğŸ‘±ğŸ»â€â™€ï¸ğŸ‘±ğŸ»ğŸ‘´ğŸ»ğŸ‘µğŸ»ğŸ‘²ğŸ»ğŸ‘³ğŸ»â€â™€ï¸ğŸ‘³ğŸ»ğŸ‘®ğŸ»â€â™€ï¸ğŸ‘®ğŸ»ğŸ‘·ğŸ»â€â™€ï¸ğŸ‘·ğŸ»ğŸ’‚ğŸ»â€â™€ï¸ğŸ’‚ğŸ»ğŸ•µğŸ»â€â™€ï¸ğŸ‘©ğŸ»â€âš•ï¸ğŸ‘¨ğŸ»â€âš•ï¸ğŸ‘©ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾ğŸ‘¨ğŸ»â€ğŸŒ¾â€çš„é•¿åº¦åº”è¯¥æ˜¯ 33ï¼Œä½†æ˜¯ä¸èƒ½é€šè¿‡ä»¥ä¸Šçš„æ–¹æ³•å¾—åˆ°æ­£ç¡®ç»“æœã€‚

ä¸€äº› js ä»£ç ç¤ºä¾‹ï¼š

```javascript
/^.$/.test('ğŸ’©'); // false
/^.$/u.test('ğŸ’©'); // true
/[æ­£åˆ™]/.test('é­é‡'); // false
```


ä¸€äº› python ä»£ç ç¤ºä¾‹ï¼š

```python2
import re
print re.search(r"[æ­£åˆ™]", "é­é‡") != None // true
print re.search(ur"[æ­£åˆ™]", "é­é‡") != None // false
print re.search(r"(æ­£|åˆ™)", "é­é‡") != None // false
```

ç›¸å…³é“¾æ¥ï¼š
- [Unicodeä¸JavaScriptè¯¦è§£](https://www.ruanyifeng.com/blog/2014/12/unicode.html)â€”â€”é˜®ä¸€å³°æ–‡ç« ï¼›
- [æ­£åˆ™çš„æ‰©å±•](https://es6.ruanyifeng.com/#docs/regex#u-%E4%BF%AE%E9%A5%B0%E7%AC%A6)â€”â€”é˜®ä¸€å³°æ–‡ç« ï¼›
- [å­—ç¬¦ç¼–ç ç¬”è®°ï¼šASCIIï¼ŒUnicode å’Œ UTF-8](https://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html)â€”â€”å¾…è¯»ï¼›
- [ç¡¬æ ¸åŸºç¡€ç¼–ç ç¯‡ï¼ˆä¸€ï¼‰çƒ«çƒ«çƒ«çƒ«çƒ«çƒ«](https://juejin.cn/post/7019654278012895240)â€”â€”æ˜é‡‘ç³»åˆ—æ–‡ç« ï¼Œ[ç¡¬æ ¸åŸºç¡€ç¼–ç ç¯‡ï¼ˆäºŒï¼‰asciiã€unicode å’Œ utf-8](https://juejin.cn/post/7022893476464066596)ï¼Œ[æ·¦ï¼Œä¸ºä»€ä¹ˆ "ğ ®·ğ ®·ğ ®·".length !== 3](https://juejin.cn/post/7025400771982131236)ï¼›
- [Unicode â€”â€” å­—ç¬¦ä¸²å†…å¹•](https://zh.javascript.info/unicode)ï¼›
- [ä¸­ç‚¹ï¼ˆÂ·ï¼‰åœ¨UTF-8å’ŒGBKè½¬æ¢ä¸­çš„é—®é¢˜](https://www.0x08.org/posts/middle-dot)â€”â€”ä¸åŒç±»å‹çš„ä¸­ç‚¹å·ï¼›
- [æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒæ±‰å­—](https://segmentfault.com/a/1190000040529571)â€”â€”æ€»ç»“äº†`\p{sc=Han}`å’Œ`\u4e00-\u9fd5`çš„åŒºåˆ«ï¼›
- [å­—èŠ‚åºæ¢æï¼šå¤§ç«¯ä¸å°ç«¯çš„æ¯”è¾ƒ](http://www.ruanyifeng.com/blog/2022/06/endianness-analysis.html)â€”â€”é˜®ä¸€å³°æ–‡ç« ï¼›
- [JavaScriptâ€™s internal character encoding: UCS-2 or UTF-16?](https://mathiasbynens.be/notes/javascript-encoding)â€”â€”JavaScript å†…éƒ¨ç¼–ç æ˜¯ UCS-2 è¿˜æ˜¯ UTF-16ï¼ŸSF ä¸Šçš„ä¸€ç¯‡[ä¸­è¯‘æ–‡ç« ](https://segmentfault.com/a/1190000006960642)å¯ä»¥æŸ¥çœ‹ï¼›
- [é›¶å®½è¿å­—](https://zh.wikipedia.org/wiki/%E9%9B%B6%E5%AE%BD%E8%BF%9E%E5%AD%97)â€”â€”`\u200D`ï¼Œç”¨äºç»„åˆå­—ç¬¦ï¼Œ*â€Œhttps://codepoints.net/U+200D*ï¼›
- ["ğŸ’©".length === 2](https://blog.jonnew.com/posts/poo-dot-length-equals-two)â€”â€”è‹±æ–‡ï¼Œä»‹ç»äº†é•¿åº¦å¤§äº 2 çš„ emoji å­—ç¬¦ï¼›
- [Unicode symbol as text or emoji](https://mts.io/2015/04/21/unicode-symbol-render-text-emoji/)â€”â€”ä»‹ç»äº†å˜ä½“é€‰æ‹©å™¨ï¼Œæ”¹å˜ emoji å¤–è§‚ï¼›
- ["ğŸ‘©â€ğŸ’»ğŸ‰".length = 7 ??? How to count emojis with Javascript](https://cestoliv.com/blog/how-to-count-emojis-with-javascript/)â€”â€”æä¾›äº†æ­£ç¡®è·å– emoji é•¿åº¦çš„æ–¹æ³•ï¼›
- [ä¸ºä»€ä¹ˆ utf8æ²¡æœ‰å­—èŠ‚åºï¼Œutf16ã€utf32æœ‰å­—èŠ‚åº](https://blog.csdn.net/wangjun5159/article/details/49178439)â€”â€”è§£é‡Šäº†ä¸ºä»€ä¹ˆ UTF-8 æ²¡æœ‰ BOMã€‚

## æ€§èƒ½

ç”±äº JavaScript ä¸æ”¯æŒå æœ‰å‹é‡è¯ï¼ˆPossessive Quantifiersï¼‰ï¼Œå› æ­¤ä½¿ç”¨å‰ç»å˜æ¢ï¼ˆlookahead transformï¼‰æ¥æ¨¡æ‹Ÿã€‚

```javascript
var reg = /^((?=(\w+))\2\s?)*$/; // æé«˜å¯è¯»æ€§ï¼š/^((?=(?<word>\w+))\k<word>\s?)*$/;
var str = "An input string that takes a long time or even makes this regex hang!";
reg.test(str); // false
```

å¸¸è§å¯¼è‡´å›æº¯çš„ä»£ç ï¼š

```javascript
// (x+x+)+y
// (a+b+|c+d+)+y // è¿™æ˜¯å®‰å…¨çš„ï¼Œå› ä¸ºå®ƒæ²¡æœ‰ mutually exclusive
// ^(.*?,){11}P
```

ç›¸å…³é“¾æ¥ï¼š
- [æµ…è°ˆæ­£åˆ™è¡¨è¾¾å¼åŸç†](http://www.alloyteam.com/2019/07/13574/)â€”â€”â€œabcdâ€ä½¿ç”¨`(.*)+\d`å¯¼è‡´å›æº¯çš„ä¾‹å­ï¼›
- [Catastrophic Backtracking](https://www.regular-expressions.info/catastrophic.html)â€”â€”RegexBuddy å‘å¸ƒçš„æ–‡ç« ï¼ŒRegexBuddy æ˜¯ä¸€ä¸ªå¯ä»¥æŸ¥çœ‹åŒ¹é…å›æº¯æƒ…å†µçš„ windows ç‹¬å çš„æ­£åˆ™è½¯ä»¶ã€‚

## åŒ¹é… URL

- æ£€æŸ¥åˆæ³•æ€§ï¼›
- åˆå¹¶å‚æ•°ï¼›
- åŒ¹é…å‚æ•°ã€‚

æ£€æŸ¥åˆæ³•æ€§ï¼š

```javascript
var reg = 
```

è·å– url çš„æ¯ä¸ªéƒ¨åˆ†ï¼š

```javascript
var reg = /(([^:\/?#]+):)?(\/\/([^\/?#]+))?([^?#]*)?(\?([^#]*))?(#(.*))?/;
//         12             3    4           5        6  7        8 9
// 1 åè®®:
// 2 åè®®
// 3 //åŸŸå
// 4 åŸŸå
// 5 è·¯å¾„
// 6 ?å‚æ•°
// 7 å‚æ•°
// 8 #hash
// 9 hash
// æ¥æºï¼šhttps://www.rfc-editor.org/rfc/rfc3986#appendix-B
```

è·å– url çš„å‚æ•°ï¼ˆquery stringï¼‰ï¼š

```javascript
// ä½¿ç”¨æ­£åˆ™
function qs(url, key) {
  var reg = new RegExp(`[?&]${key}=([^&#]*)`);
  return url.match(reg)[1];
}

// ä¸ä½¿ç”¨æ­£åˆ™
function qs(url, key) {
  var qIndex = url.indexOf('?');
  var qs = url.slice(qIndex + 1);
  var pairs = qs.split('&');
  var obj = {};
  for (pair of pairs) {
	  var [key, val] = pair.split('=');
	  obj[key] = val;
  }
  return obj[key];
}
```

URL çš„å„ç§å½¢å¼ï¼š

```javascript
// ç”¨ HTTP åè®®è®¿é—® Web æœåŠ¡å™¨
var url = "http://user:password@www.a.com:90/dir/file1.htm";

// ç”¨ FTP åè®®ä¸‹è½½å’Œä¸Šä¼ æ–‡ä»¶
var url = "ftp://user:password@ftp.a.com:21/dir/file1.html";

// è¯»å–å®¢æˆ·ç«¯è®¡ç®—æœºæœ¬åœ°æ–‡ä»¶
var url = "file://localhost/C:/path/file1.zip";

// å‘é€ç”µå­é‚®ä»¶
var url = "mailto:tone@a.com";

// é˜…è¯»æ–°é—»ç»„çš„æ–‡ç« 
var url = "news:comp.protocols.tcp-ip";
```

ç›¸å…³é“¾æ¥ï¼š
- [In search of the perfect URL validation regex](https://mathiasbynens.be/demo/url-regex)â€”â€”ç”¨æ¡ˆä¾‹è¡¨æ ¼è¡¡é‡åŒ¹é… URL çš„æ­£åˆ™çš„å‡†ç¡®åº¦ï¼Œè¿˜åŒ…æ‹¬äº†æ­£åˆ™çš„é•¿åº¦ï¼›
- [URLSearchParams](https://developer.mozilla.org/zh-CN/docs/Web/API/URLSearchParams)â€”â€”MDN æ–‡æ¡£ï¼›
- [Getting parts of a URL (Regex)](https://stackoverflow.com/questions/27745/getting-parts-of-a-url-regex#27755)ï¼›
- [Capture value out of query string with regex?](https://stackoverflow.com/questions/10126956/capture-value-out-of-query-string-with-regex?a=b?c=d&d=e)ï¼›
- [What is the best regular expression to check if a string is a valid URL?](https://stackoverflow.com/questions/161738/what-is-the-best-regular-expression-to-check-if-a-string-is-a-valid-url?answertab=scoredesc#tab-top)ï¼›
- [å…³äºURLç¼–ç ](https://www.ruanyifeng.com/blog/2010/02/url_encoding.html)ã€‚

## ç¤ºä¾‹

ç›¸å…³é“¾æ¥ï¼š
- [èº«ä»½è¯å·ç çš„æ­£åˆ™è¡¨è¾¾å¼åŠéªŒè¯è¯¦è§£(JavaScriptï¼ŒRegex)](https://juejin.cn/post/6844903575877861390)ã€‚

## ç»ƒä¹ 

æ£€æŸ¥æ˜¯å¦è´¨æ•°ï¼ˆè´¨æ•°æ˜¯é™¤äº† 1 å’Œæœ¬èº«ï¼Œä¸èƒ½è¢«å…¶å®ƒæ•°æ•´é™¤çš„æ•°ï¼ˆæ²¡æœ‰ 1 å’Œæœ¬èº«ä»¥å¤–çš„å…¶å®ƒå› æ•°ï¼‰ï¼‰ï¼š

```javascript
function numberSticks(n) {
  return new Array(n).fill(1).join(''); // 5->11111, 3->111
}
var reg = /^(11+)\1+$/;
reg.test(numberSticks(69)); // 69 æ˜¯è´¨æ•°å—ï¼Œè¿”å› true åˆ™ä¸æ˜¯
```

24 å°æ—¶åˆ¶ï¼š

```javascript
var reg1 = /[0-1]\d|2[0-3]/; // æ–¹æ³• 1
reg1.test('9'); // false
var reg2 = /[0-1][0-9]|2[0-3]/; // æ–¹æ³• 2
```

åƒåˆ†ä½ï¼š

```javascript
var reg = /(?!^)(?=(\d{3})+$)/g; // (?!) è¡¨ç¤ºå¦å®šå‰ç»æ–­è¨€ï¼Œ(?=)è¡¨ç¤ºå‰ç»æ–­è¨€
"123456789".replace(reg, ',')
// 123,456,789
```


URL query å‚æ•°è·å–ï¼š

```
function query(name)
{
	const search = location.search.substr(1) // è·³è¿‡å¤´éƒ¨ç¬¦å·â€œ?â€
	const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`, 'i')
	const res = search.match(reg)
	if (res === null) { return null }
	return res[2] // res æ˜¯ç±»æ•°ç»„ï¼Œæœ‰å¯æšä¸¾å±æ€§ groups, index, input ä»¥åŠæ•°å­—ä¸‹æ ‡ï¼ŒæŸä¸ªæ•°å­—ä¸‹æ ‡ i çš„å€¼æ˜¯ç¬¬ i å¯¹æ‹¬å·åŒ¹é…çš„å­—ç¬¦ä¸²ï¼Œæ•°å­—ä¸‹æ ‡ 0 æ­£åˆ™åŒ¹é…çš„å­—ç¬¦ä¸²
}
```

åˆ é™¤å¤´å°¾ç©ºæ ¼ï¼š

```javascript
function zTrim(z)
{ return z.replace(/^\s+|\s+$/gm, '') } // å¤šè¡Œå…¨å±€åŒ¹é… gm
```

è¡¥å…¨éè‡ªé—­åˆæ ‡ç­¾ï¼š

```javascript
const tags = /^(area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i; // è¿™äº›æ˜¯è‡ªé—­åˆæ ‡ç­¾
function convert(html)
{
  return html.replace(/(<(\w+)[^>]*?)\/>/g,
	  (all, front, tag) => (tags.test(tag) ? all : front + "></" + tag + ">")
  ); // è¿™é‡Œçš„â€œ*?â€ï¼Œè¡¨ç¤ºé‡åˆ°â€œ>â€åŒ¹é…å¤±è´¥ï¼Œé‡åˆ°å…¶å®ƒåˆ™å¿½ç•¥
}
```

ä¸­çº¿è½¬é©¼å³°ï¼š

```javascript
function style(element, name, value)
{
  name = name.replace(/-([a-z])/ig,
	  (all, letter) => (letter.toUpperCase())
  );
  if (typeof value !== 'undefined') {
    element.style[name] = value;
  }
  return element.style[name];
}
```

æŠŠå¸¦ç¬¦å·çš„å·ç è½¬æ¢æˆæ•°å­—ï¼š

```javascript
var str = "+7(903)-123-45-67";
str.replace(/\D/g, '');
// æˆ–è€…
str.match(/\d/g).join('');
```

æå–å­—ç¬¦ä¸²é‡Œçš„ä¸­æ–‡ï¼š

```javascript
var str = "ä½ å¥½å—ï¼ŒDavidï¼Ÿ";
str.match(/\p{sc=Han}/gu); // ['ä½ ', 'å¥½', 'å—']
```

åŒ¹é…ç©ºå­—ç¬¦ä¸²ï¼š

```javascript
// é”šç‚¹è¡¨ç¤ºä½ç½®ï¼Œå¯¹äºç©ºå­—ç¬¦ä¸²ï¼Œå¼€å¤´å°±æ˜¯ç»“å°¾ï¼Œç»“å°¾å°±æ˜¯å¼€å¤´
/^$/.test(''); // true
/$^/.test(''); // true
```

æŸ¥æ‰¾æ—¶é—´ï¼Œä»ç»™å®šçš„å­—ç¬¦ä¸²ä¸­æ‰¾åˆ°æ—¶é—´ï¼š

```javascript
// https://zh.javascript.info/task/find-time-hh-mm
var str = "Breakfast at 09:00 in the room 123:456.";
str.match(/\b(?:[01]\d|2[0-4]):[0-5]\d\b/g); // æ³¨æ„å‰åçš„è¯è¾¹ç•Œï¼Œç”¨äºç¡®ä¿æ—¶å’Œåˆ†æ˜¯ä¸¤ä½çš„æ ¼å¼ï¼Œâ€œ?:â€è¡¨ç¤ºéæ•è·ç»„
// ['09:00']
```

URL è½¬å¯¹è±¡ï¼ˆå¯¹è±¡è½¬ URLï¼Œå‹ç¼© URLï¼‰
- æ£€æŸ¥æ­£åˆ™æ­£ç¡®æ€§ï¼›
- é»˜è®¤å¯¹è±¡ï¼›
- é‡å¤å‚æ•°çš„æ•°ç»„å¯¹è±¡ã€‚

## TODO

```javascript
// var X = '[a-z0-9]'
// var y = '[a-z0-9-]{0,61}'
// var Z = 'a-z_\/0-9\-#'

// var a = /(https?:\/\/(?:X(?:YX)?\.)+XYX)(:?\d*)\/?([Z.]*)\??([Z=&]*)/g

var a = /^((http[s]?|ftp):\/)?\/?([^:\/\s]+)((\/\w+)*\/)([\w\-\.]+[^#?\s]+)(.*)?(#[\w\-]+)?$/
```

url å‚æ•°è½¬å¯¹è±¡

éè´ªå©ªåŒ¹é…ï¼Œ`?`ï¼Œä¾‹å¦‚`/.+?\s/.exec("Your time is limited.")`åŒ¹é…â€œYour â€

## å…¶å®ƒ

å…³äºå›è½¦æ¢è¡Œï¼šå†å²ä¸Šä½¿ç”¨æœºæ¢°æ‰“å­—æœºæ‰“å­—ï¼Œæ·»åŠ å­—ç¬¦å°±å‘åç§»åŠ¨æ‰“å°å¤´ï¼ˆcarriageï¼‰ï¼Œåˆ°äº†è¡Œæœ«å°±å¿…é¡»æŠŠæ‰“å°å¤´ç§»åˆ°å¼€å¤´ï¼Œäºæ˜¯è¿›è¡Œâ€œå›è½¦â€ï¼Œå›è½¦åçº¸å¼ ä¹Ÿè¦å‘ä¸Šç§»åŠ¨ï¼Œé˜²æ­¢æ–°å­—é‡å ï¼Œäºæ˜¯â€œæ¢è¡Œâ€ã€‚


åŒå¼•å·ä¼šæ¶ˆè€—æ–œæ ï¼Œå› ä¸ºåŒå¼•å·ä¸­æ–œæ æ˜¯è½¬ä¹‰ç¬¦å·ï¼Œæ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ï¼ŒåŒæ ·åœ¨æ­£åˆ™å­—é¢é‡ä¸­çš„æ–œæ ä¹Ÿæ˜¯æœ‰ç‰¹æ®Šæ„ä¹‰çš„ï¼Œå› æ­¤ä»æ­£åˆ™å­—é¢é‡`/.../`è½¬å‘ç”¨`new RegExp("...")`æ¥è¡¨ç¤ºæ­£åˆ™ï¼Œå…¶ä¸­çš„æ–œæ è¦è½¬ä¹‰ä¸¤æ¬¡ã€‚

```javascript
var reg = new RegExp("\\\\"); // ç›¸å½“äºæ­£åˆ™å­—é¢é‡ /\\/ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªæ–œæ å­—ç¬¦
var str = "\\";
reg.test(str);
// true
str.length;
// 1
```

æ­£åˆ™ç›¸å…³çš„æ–¹æ³•ï¼š
- å­—ç¬¦ä¸²â€”â€”searchã€matchã€replaceã€splitï¼›
- æ­£åˆ™â€”â€”execã€testã€‚

## å¼•ç”¨

èµ„æ–™ï¼š
- [iHateRegex](https://ihateregex.io/)â€”â€”ä¸€ä¸ªå¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼ç½‘ç«™ï¼ˆâ€œNow you have two problems.â€ï¼‰ï¼›
- [JSæ­£åˆ™è¡¨è¾¾å¼å®Œæ•´æ•™ç¨‹ï¼ˆç•¥é•¿ï¼‰](https://juejin.cn/post/6844903487155732494)â€”â€”æ­£åˆ™è¿·ä½ ä¹¦ï¼›
- [oschina æ­£åˆ™è¡¨æ ¼](https://tool.oschina.net/uploads/apidocs/jquery/regexp.html)ï¼›
- [regex101: build, test, and debug regex](https://regex101.com/)â€”â€”æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒç½‘ç«™ï¼›
- [JAVASCRIPT.INFO æ­£åˆ™è¡¨è¾¾å¼](https://zh.javascript.info/regular-expressions)â€”â€” JAVASCRIPT.INFO çš„æ­£åˆ™è¡¨è¾¾å¼æ•™ç¨‹ï¼›
- [æ­£åˆ™è¡¨è¾¾å¼](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions)â€”â€”MDN çš„æ­£åˆ™æ•™ç¨‹ï¼›
- [æ­£åˆ™çš„æ‰©å±•](https://es6.ruanyifeng.com/?search=%E6%AD%A3%E5%88%99&x=0&y=0#docs/regex)â€”â€”é˜®ä¸€å³°ã€ŠECMAScript 6 å…¥é—¨ã€‹ï¼›
- [RegexLearn](https://regexlearn.com/zh-cn)â€”â€”äº¤äº’å¼å­¦ä¹ æ­£åˆ™ç½‘ç«™ï¼Œä¸­æ–‡ã€‚

ä¹¦ç±ï¼š
- [ã€Šæ­£åˆ™æŒ‡å¼•ã€‹](https://www.duozhuayu.com/books/72084621415679036)

ç›¸å…³é“¾æ¥ï¼š

- [javascriptæ­£åˆ™æ·±å…¥ä»¥åŠ10ä¸ªéå¸¸æœ‰æ„æ€çš„æ­£åˆ™å®æˆ˜](https://zhuanlan.zhihu.com/p/139711396)
- [å®ç°ä¸€ä¸ªç®€å•çš„æ¨¡æ¿å¼•æ“](http://www.alloyteam.com/2016/10/implement-a-simple-template-engine/)
- [ç½‘ç«™ regexper](https://regexper.com/)â€”â€”ä»¥å›¾å½¢å½¢å¼å±•ç¤ºæ­£åˆ™ï¼›
- [è€å§šä¸¨æ´è§ç”Ÿäº§è€…](https://www.zhihu.com/people/qdlaoyao/posts)â€”â€”å¸¸å‘å¸ƒæ­£åˆ™ç›¸å…³æ–‡ç« çš„çŸ¥ä¹è´¦æˆ·ï¼›
- [æ­£åˆ™è¡¨è¾¾å¼æ¡ˆä¾‹åˆ†æ ï¼ˆä¸€ï¼‰](https://juejin.cn/post/6844903487059263502)ï¼›
- [ğŸ©æƒ³è¦ç™½å«–æ­£åˆ™æ˜¯å§ï¼Ÿè¿™ä¸€æ¬¡ç»™ä½ ä¸ªå¤Ÿï¼](https://juejin.cn/post/7119242343798013959)â€”â€”æ¡ˆä¾‹åˆ—è¡¨ï¼›
- [ğŸ¦•æ­£åˆ™å¤§å…¨](https://any86.github.io/any-rule/)â€”â€”æ¡ˆä¾‹åˆ—è¡¨ï¼›
- [æ—¥å¸¸å¼€å‘æå‡æ•ˆç‡ä¹‹å¸¸ç”¨æ­£åˆ™å®ä¾‹](https://juejin.cn/post/6914843961408356360)â€”â€”æ¡ˆä¾‹åˆ—è¡¨ï¼›
- [æ­£åˆ™æ‰©å±•ç»ƒä¹ ](https://cloud.tencent.com/developer/article/1119106)â€”â€”Linux é‡Œçš„æ­£åˆ™ï¼›
- [regex 101](https://regex101.com/)â€”â€”æ­£åˆ™å¯è§†åŒ–ï¼Œå½“åŒ¹é…å¤±è´¥çš„æ—¶å€™ï¼Œå¯ä»¥æŸ¥çœ‹åŒ¹é…æ­¥éª¤ï¼ŒæŸ¥çœ‹æ­£åˆ™å›æº¯çš„è¿‡ç¨‹ï¼›
- [Multi-line Regex In Javascript with Comments](https://www.dormant.ninja/multiline-regex-in-javascript-with-comments/)â€”â€”ç»™æ­£åˆ™åŠ æ³¨é‡Šï¼Œ`new RegExp(parts.map(x => (x instanceof RegExp) ? x.source : x).join(''));`ã€‚